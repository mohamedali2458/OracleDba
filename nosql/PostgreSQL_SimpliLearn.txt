PostgreSQL
start psql terminal
server : empty
database : empty
port : 5432
username : empty
password : 2458

commands
========
select
update
delete
where clause
group by
having
order by
is null
like operator
logical operators
built-in functions
case statement
subquery
user defined functions


sql shell (search) to start
take all default values
ppostgres-# 

to see the version of posgresql
select version();

to see all the existing databases
\l

create database sql_demo;

\l

\c sql_demo
to connect to the db

We can also login to the db using pgadmin GUI
Right-click on the db and select query-tool to open sql window

inside query tool
select version();

click execute or F5

select 5*3;

select 5+3+6;

terminal
========
select 7*10;

pgadmin
=======
select 5*(3+4);
35

terminal
inside a db

create table movies(movie_id int, movie_name varchar(40), movie_genre varchar(30), imdb_ratings real);

pgadmin - database - schemas - tables - table_name

to create a table in pgadmin right click on tables in left pane and select create.

in pgadmin to view the columns in a table

select * from movies;

how to drop a table
drop table students;

or right click on table name in pgadmin and select drop

insert
======
insert into moview(movie_id, movie_name, movie_genre, imdb_ratings)
values (101, 'Vertigo', 'Mystery, Romance', 8.3),
(102, 'The Shawshank Redemption', 'Crime Fiction', 9.3),
(103, '12 Angry Men', 'Drama', 9.0),
(104, 'The Dark Knight', 'Action', 9.0),
(105, 'The Matrix', 'Sci-Fi', 8.7),
(106, 'Se7en', 'Crime', 8.6),
(107, 'Interstellar', 'Adventure', 8.6),
(108, 'The Lion King', 'Animation, Adventure', 8.5);

\dt

to describe a table 
\d movies
\d students

update movies
set movie_genre = 'Drama, Crime'
where movie_id = 103;

delete from movies 
where movie_id = 108;

where
=====
select * from movies
where imdb_ratings > 8.7;

between
=======
select * from movies
where imdb_ratings between 8.5 and 9.0;

select * from movies where movie_genre = 'Action';

select movie_name, movie_genre from movies
where imdb_ratings < 9.0;

select * from movies where imdb_ratings in (8.7, 9.0);


Loading .csv file 
=================
create table employees
(emp_id int not null primary key,
 emp_name varchar(40),
 email varchar(40),
 gender varchar(10),
 department varchar(40),
 address varchar(40),
 salary real);

to check this tables structure

select * from employees;
no records 

.csv
emp_id	emp_name	email	gender	department 	Address 	Salary

in pgadmin, right click on the table employees and choose Import/Export
switch on import
choose file name
format = csv
Header = Yes
go to columns page and check
make sure all columns exist
check on ok

to confirm data
select * from employees;


select address from employees;
will get all the rows (duplication)

to display unique names
select distinct address from employees;

select * from employees where email is null;

select * from employees where department is null;

select * from employees order by salary;

select * from employees order by salary desc;

rename a column
alter table employees 
rename column address to country;

select * from employees;

select * from employees where
country = 'France' and salary < 80000;

select * from employees where
country = 'Germany' or department = 'Sales';

select * from employees order by salary desc limit 5;

select * from employees order by salary desc limit 5 offset 3;

select * from employees order by salary desc fetch first 3 row only;

select * from employees order by salary desc offset 3 rows fetch first 5 row only;


like

select emp_name, email from employees where emp_name like 'A%';

select emp_name, email from employees where emp_name like 'S%';

select emp_name, email from employees where emp_name like '%d';

select emp_name, email from employees where emp_name like '%ish%';





https://www.youtube.com/watch?v=eMIxuk0nOkU&list=PL7kWCcQSFwpbsY9ekhJm0iu-7f1uqkcFL
52-20

https://www.youtube.com/watch?v=cnzka7kF5Zk
-MPrashant
